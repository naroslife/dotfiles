This is the code for zsh's you should use plugin which reminds the user of aliases that are defined when the user did not use the alias. Convert it to work with elvish shell. Use the $edit:after-command hook. This hook gets a map parameter passed to it that contains an entry with key 'src' that provides access to the executed command. You can get the list of aliases with alias:list